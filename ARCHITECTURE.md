# IPZY AI ì„œë²„ ì•„í‚¤í…ì²˜ ë¬¸ì„œ

> 20-40ëŒ€ ë‚¨ì„±ì„ ìœ„í•œ íŒ¨ì…˜ ì½”ë”” ì¶”ì²œ AI ì‹œìŠ¤í…œ
>
> ì‘ì„±ì¼: 2024-12-12

---

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
2. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
3. [í•µì‹¬ ê¸°ìˆ  ìŠ¤íƒ](#í•µì‹¬-ê¸°ìˆ -ìŠ¤íƒ)
4. [ë°ì´í„° í”Œë¡œìš°](#ë°ì´í„°-í”Œë¡œìš°)
5. [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
6. [ë°ì´í„° ì €ì¥ ì „ëµ](#ë°ì´í„°-ì €ì¥-ì „ëµ)
7. [ë¹„ìš© ìµœì í™”](#ë¹„ìš©-ìµœì í™”)
8. [ë³´ì•ˆ ë° ê°œì¸ì •ë³´](#ë³´ì•ˆ-ë°-ê°œì¸ì •ë³´)
9. [êµ¬í˜„ ìš°ì„ ìˆœìœ„](#êµ¬í˜„-ìš°ì„ ìˆœìœ„)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

### ì—­í•  ì •ì˜

**IPZY AI ì„œë²„ì˜ ì—­í• :**

1. **ìƒí’ˆ ì´ë¯¸ì§€ ë¶„ì„**
   - íŒ¨ì…˜ ì•„ì´í…œì˜ ìƒ‰ìƒ, íŒ¨í„´, í•, ìŠ¤íƒ€ì¼ ìë™ ì¶”ì¶œ
   - ë¶„ì„ ê²°ê³¼ ChromaDB ìºì‹±

2. **ì½”ë”” ì¡°í•© ì¶”ì²œ**
   - ìœ ì € ì •ë³´ (í€´ì¦ˆ, ì„ í˜¸ë„, ì²´í˜•, ì˜ˆì‚°) ë¶„ì„
   - ìƒí’ˆ ì •ë³´ + ì´ë¯¸ì§€ ë¶„ì„ ê²°ê³¼ + íŒ¨ì…˜ ë£°ë¶ ê¸°ë°˜ ì¶”ì²œ
   - ìƒì˜ + í•˜ì˜ + ì‹ ë°œ + ì•„ìš°í„° ì¡°í•© ìƒì„±

3. **í•©ì„± ì´ë¯¸ì§€ ìƒì„±**
   - ê° ì•„ì´í…œ ë°°ê²½ ì œê±° (ëˆ„ë¼)
   - ë ˆì´ì–´ ë°©ì‹ìœ¼ë¡œ ì½”ë”” ì„¸íŠ¸ í•©ì„±
   - ì‹œê°ì  ë¯¸ë¦¬ë³´ê¸° ì œê³µ

4. **ìœ ì € ìŠ¤íƒ€ì¼ í”„ë¡œíŒŒì¼ë§**
   - í€´ì¦ˆ ë‹µë³€ ë¶„ì„ ë° ë²¡í„°í™”
   - ì„ í˜¸ë„ í•™ìŠµ ë° ê°œì¸í™”

5. **í”¼ë“œë°± í•™ìŠµ** (í–¥í›„)
   - ì¢‹ì€ ì½”ë”” ì˜ˆì‹œ ìˆ˜ì§‘
   - ìœ ëª…ì¸ ìŠ¤íƒ€ì¼ ë¶„ì„ ë° ì°¸ê³ 

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ êµ¬ì¡°ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ì‚¬ìš©ì (20-40ëŒ€ ë‚¨ì„±)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ë°±ì—”ë“œ ì„œë²„ (Java Spring)                     â”‚
â”‚  - PostgreSQL: ìœ ì €/ìƒí’ˆ/ì£¼ë¬¸/í€´ì¦ˆ ì›ë³¸ ë°ì´í„°                  â”‚
â”‚  - REST API: ìƒí’ˆ ê´€ë¦¬, ìœ ì € ì¸ì¦                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ HTTP API / Webhook
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  AI ì„œë²„ (Python FastAPI)                     â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ ì´ë¯¸ì§€ ë¶„ì„      â”‚  â”‚ LLM ì¶”ì²œ ì—”ì§„     â”‚                  â”‚
â”‚  â”‚ - Gemini Flash  â”‚  â”‚ - GPT-4o/Claude  â”‚                  â”‚
â”‚  â”‚ - ìƒ‰ìƒ/íŒ¨í„´/í•   â”‚  â”‚ - ì½”ë”” ì¡°í•© ìƒì„±  â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ ì´ë¯¸ì§€ í•©ì„±      â”‚  â”‚ ìœ ì € ë¶„ì„         â”‚                  â”‚
â”‚  â”‚ - rembg ëˆ„ë¼    â”‚  â”‚ - í€´ì¦ˆ ë²¡í„°í™”     â”‚                  â”‚
â”‚  â”‚ - Pillow í•©ì„±   â”‚  â”‚ - ìŠ¤íƒ€ì¼ í”„ë¡œíŒŒì¼ â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚         ChromaDB (ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤)      â”‚                â”‚
â”‚  â”‚                                          â”‚                â”‚
â”‚  â”‚  â€¢ product_analysis    - ìƒí’ˆ ë¶„ì„ ìºì‹œ   â”‚                â”‚
â”‚  â”‚  â€¢ user_style_vectors  - ìœ ì € ìŠ¤íƒ€ì¼ ë²¡í„° â”‚                â”‚
â”‚  â”‚  â€¢ user_feedback       - í”¼ë“œë°± ë°ì´í„°    â”‚                â”‚
â”‚  â”‚  â€¢ good_coordinations  - ì¢‹ì€ ì½”ë”” ì˜ˆì‹œ   â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  ì™¸ë¶€ AI API     â”‚
                   â”‚  - Gemini Flash â”‚
                   â”‚  - OpenAI       â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ í•µì‹¬ ê¸°ìˆ  ìŠ¤íƒ

### âœ… í™•ì •ëœ ê¸°ìˆ 

| ì¹´í…Œê³ ë¦¬ | ì„ íƒ ê¸°ìˆ  | ì„ íƒ ì´ìœ  |
|---------|---------|----------|
| **ì›¹ í”„ë ˆì„ì›Œí¬** | FastAPI | ë¹„ë™ê¸° ì²˜ë¦¬, ì„±ëŠ¥, API ë¬¸ì„œ ìë™ ìƒì„± |
| **ì´ë¯¸ì§€ ë¶„ì„** | **Gemini 1.5 Flash** | GPT-4o ëŒ€ë¹„ 30ë°° ì €ë ´ ($0.0001/ì´ë¯¸ì§€) |
| **ì½”ë”” ì¶”ì²œ LLM** | GPT-4o / Claude 3.5 | ë†’ì€ ì •í™•ë„, JSON ì¶œë ¥ ì•ˆì •ì„± |
| **ë²¡í„° DB** | ChromaDB | ê°„ë‹¨í•œ ì„¤ì •, ì„ë² ë”© ê²€ìƒ‰, ìºì‹± |
| **ì„ë² ë”© ëª¨ë¸** | text-embedding-3-small | ì €ë ´í•¨, ì¶©ë¶„í•œ ì„±ëŠ¥ |
| **ë°°ê²½ ì œê±°** | rembg | ë¬´ë£Œ, í’ˆì§ˆ ì–‘í˜¸ |
| **ì´ë¯¸ì§€ ì²˜ë¦¬** | Pillow | ê°€ë³ê³  ê°„ë‹¨ |
| **í•©ì„± ë°©ì‹** | ë ˆì´ì–´ í•©ì„± | ëª¨ë¸ ì°©ìš© ë¶ˆí•„ìš”, ë¹ ë¦„ |

### ì˜ì¡´ì„±

```txt
# requirements.txt (ê¸°ì¡´ + ì¶”ê°€)
fastapi==0.109.0
uvicorn[standard]==0.27.0
pydantic==2.5.3

# AI/ML
chromadb==0.4.22
openai>=1.52.0
google-generativeai>=0.3.0  # â† ì¶”ê°€ (Gemini)
numpy<2.0.0

# ì´ë¯¸ì§€ ì²˜ë¦¬
Pillow==10.2.0
rembg==2.0.54
requests==2.31.0

# ìœ í‹¸
python-dotenv==1.0.0
```

---

## ğŸ”„ ë°ì´í„° í”Œë¡œìš°

### 1. ìƒí’ˆ ë“±ë¡ í”Œë¡œìš° (í¬ë¡¤ë§)

```
1. ë°±ì—”ë“œ: í¬ë¡¤ë§ìœ¼ë¡œ ìƒí’ˆ 100ê°œ ìˆ˜ì§‘
              â†“
2. ë°±ì—”ë“œ: PostgreSQLì— ì €ì¥
              â†“
3. ë°±ì—”ë“œ: AI ì„œë²„ì— Webhook í˜¸ì¶œ
   POST /api/v1/analyze/batch
   { "product_ids": ["prod_001", "prod_002", ...] }
              â†“
4. AI ì„œë²„: ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë°°ì¹˜ ë¶„ì„ ì‹œì‘
              â†“
5. AI ì„œë²„: 10ê°œì”© ë¬¶ì–´ì„œ ë³‘ë ¬ ì²˜ë¦¬
   - Gemini Flashë¡œ ì´ë¯¸ì§€ ë¶„ì„
   - ìƒ‰ìƒ/íŒ¨í„´/í•/ìŠ¤íƒ€ì¼ ì¶”ì¶œ
              â†“
6. AI ì„œë²„: ChromaDBì— ì €ì¥
   - Collection: product_analysis
   - ID: product_id
   - Metadata: {colors, pattern, style, fit, ...}
              â†“
7. ì™„ë£Œ (ì‚¬ìš©ì ëŒ€ê¸° ì—†ìŒ, 35ì´ˆ ì†Œìš”)
```

### 2. í€´ì¦ˆ ë‹µë³€ í”Œë¡œìš°

```
1. ì‚¬ìš©ì: í€´ì¦ˆ ì™„ë£Œ (ë°±ì—”ë“œ)
              â†“
2. ë°±ì—”ë“œ: PostgreSQLì— ì›ë³¸ ì €ì¥
              â†“
3. ë°±ì—”ë“œ: AI ì„œë²„ì— ë¶„ì„ ìš”ì²­
   POST /api/v1/users/analyze-quiz
   { "user_id": "user_123", "answers": {...} }
              â†“
4. AI ì„œë²„: í€´ì¦ˆ ë¶„ì„
   - GPT-4o-minië¡œ ìŠ¤íƒ€ì¼ í”„ë¡œíŒŒì¼ ìƒì„±
   - OpenAI Embeddingìœ¼ë¡œ ë²¡í„°í™”
              â†“
5. AI ì„œë²„: ChromaDBì— ì €ì¥
   - Collection: user_style_vectors
   - ID: user_id
   - Embedding: [0.12, 0.45, ...]
   - Metadata: {dominant_style, color_preferences, ...}
              â†“
6. ì™„ë£Œ (3ì´ˆ ì†Œìš”)
```

### 3. ì½”ë”” ì¶”ì²œ í”Œë¡œìš°

```
1. ì‚¬ìš©ì: ì¶”ì²œ ìš”ì²­
   { "location": "office", "style": "classic",
     "budget_min": 100000, "budget_max": 500000 }
              â†“
2. AI ì„œë²„: ìœ ì € ìŠ¤íƒ€ì¼ ì¡°íšŒ (ChromaDB)
              â†“
3. AI ì„œë²„: ë°±ì—”ë“œì—ì„œ ìƒí’ˆ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
   - ì˜ˆì‚°/ì¹´í…Œê³ ë¦¬ í•„í„°ë§
   - 50-100ê°œ ìƒí’ˆ
              â†“
4. AI ì„œë²„: ìƒí’ˆ ë¶„ì„ ì •ë³´ ì¡°íšŒ (ChromaDB)
   - ìºì‹œ íˆíŠ¸: ì¦‰ì‹œ ë°˜í™˜
   - ìºì‹œ ë¯¸ìŠ¤: Gemini Flash ë¶„ì„ í›„ ì €ì¥
              â†“
5. AI ì„œë²„: LLM ì¶”ì²œ ì—”ì§„
   - ìœ ì € í”„ë¡œíŒŒì¼ + ìƒí’ˆ ì •ë³´ + ì´ë¯¸ì§€ ë¶„ì„
   - GPT-4o/Claudeë¡œ 3ê°œ ì½”ë”” ì„¸íŠ¸ ìƒì„±
   - ê° ì„¸íŠ¸: ìƒì˜+í•˜ì˜+ì‹ ë°œ+ì•„ìš°í„°
              â†“
6. AI ì„œë²„: í•©ì„± ì´ë¯¸ì§€ ìƒì„±
   - ê° ì•„ì´í…œ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
   - rembgë¡œ ë°°ê²½ ì œê±°
   - ë ˆì´ì–´ ë°©ì‹ìœ¼ë¡œ í•©ì„±
   - ì €ì¥: /outputs/composites/{uuid}.png
              â†“
7. ì‘ë‹µ ë°˜í™˜
   {
     "recommendations": [
       {
         "set_id": "...",
         "products": [...],
         "total_price": 450000,
         "reasoning": "í´ë˜ì‹í•œ ì˜¤í”¼ìŠ¤ë£©...",
         "composite_image_url": "/outputs/..."
       }
     ]
   }
              â†“
8. ì™„ë£Œ (10-15ì´ˆ ì†Œìš”)
```

### 4. í”¼ë“œë°± ì €ì¥ í”Œë¡œìš°

```
1. ì‚¬ìš©ì: ì½”ë”” ì¢‹ì•„ìš”/êµ¬ë§¤
              â†“
2. ë°±ì—”ë“œ: AI ì„œë²„ì— í”¼ë“œë°± ì „ì†¡
   POST /api/v1/feedback/like
   { "user_id": "...", "coord_set_id": "..." }
              â†“
3. AI ì„œë²„: ChromaDBì— ì €ì¥
   - Collection: user_feedback
   - ì¢‹ì•„ìš”/ì‹«ì–´ìš”/êµ¬ë§¤ ê¸°ë¡
              â†“
4. êµ¬ë§¤ ì‹œ: good_coordinations ì»¬ë ‰ì…˜ì—ë„ ì €ì¥
   - í–¥í›„ ìœ ì‚¬ ì¶”ì²œì— í™œìš©
              â†“
5. ì™„ë£Œ
```

---

## ğŸ¨ ì£¼ìš” ê¸°ëŠ¥

### Phase 1: MVP (í˜„ì¬ êµ¬í˜„)

- âœ… ê¸°ë³¸ ì½”ë”” ì¶”ì²œ (í…ìŠ¤íŠ¸ ì •ë³´ ê¸°ë°˜)
- âœ… ëˆ„ë¼ + í•©ì„± ì´ë¯¸ì§€ ìƒì„±
- âœ… ChromaDB ìºì‹±

### Phase 2: ì´ë¯¸ì§€ ë¶„ì„ (ë‹¤ìŒ ë‹¨ê³„)

- [ ] Gemini Flash ìƒí’ˆ ì´ë¯¸ì§€ ë¶„ì„
- [ ] ìƒ‰ìƒ/íŒ¨í„´/í•/ìŠ¤íƒ€ì¼ ìë™ ì¶”ì¶œ
- [ ] ë¶„ì„ ì •ë³´ ê¸°ë°˜ ê³ ë„í™”ëœ ì¶”ì²œ
- [ ] í¬ë¡¤ë§ ë°°ì¹˜ ë¶„ì„ íŒŒì´í”„ë¼ì¸

### Phase 3: ê°œì¸í™” (í–¥í›„)

- [ ] í€´ì¦ˆ ë‹µë³€ ë¶„ì„ ë° ë²¡í„°í™”
- [ ] ìœ ì € ìŠ¤íƒ€ì¼ í”„ë¡œíŒŒì¼ ìƒì„±
- [ ] í”¼ë“œë°± ê¸°ë°˜ í•™ìŠµ
- [ ] ìœ ì‚¬ ìœ ì € ê¸°ë°˜ í˜‘ì—… í•„í„°ë§

### Phase 4: ê³ ê¸‰ ê¸°ëŠ¥ (ì¥ê¸°)

- [ ] ìœ ëª…ì¸ ìŠ¤íƒ€ì¼ ë¶„ì„ ë° ì ìš©
- [ ] ì°©ìš© ì´ë¯¸ì§€ ì—…ë¡œë“œ â†’ ìœ ì‚¬ ìƒí’ˆ ì¶”ì²œ
- [ ] ì‹œì¦Œ/íŠ¸ë Œë“œ ë°˜ì˜
- [ ] ë²¡í„° ê²€ìƒ‰ ê¸°ë°˜ "ë¹„ìŠ·í•œ ìƒí’ˆ" ê¸°ëŠ¥

---

## ğŸ’¾ ë°ì´í„° ì €ì¥ ì „ëµ

### ë°±ì—”ë“œ PostgreSQL (Source of Truth)

**ì €ì¥ ë°ì´í„°:**
- âœ… ìœ ì € ê°œì¸ì •ë³´ (ì´ë¦„, ì´ë©”ì¼, ì¸ì¦ ì •ë³´)
- âœ… ìƒí’ˆ ì›ë³¸ ì •ë³´ (product_id, name, price, image_url, ...)
- âœ… í€´ì¦ˆ ì›ë³¸ ë‹µë³€
- âœ… ì£¼ë¬¸/ê²°ì œ íˆìŠ¤í† ë¦¬
- âœ… ì½”ë”” ì„¸íŠ¸ ì €ì¥ (outfit í…Œì´ë¸”)

**ì—­í• :**
- ë²•ì  ì±…ì„ (ê°œì¸ì •ë³´ë³´í˜¸ë²•, GDPR)
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ì¤‘ì‹¬
- ê´€ê³„í˜• ë°ì´í„° ê´€ë¦¬

### AI ì„œë²„ ChromaDB (Search Optimized)

**Collection êµ¬ì¡°:**

```python
# 1. product_analysis - ìƒí’ˆ ë¶„ì„ ìºì‹œ
{
  "id": "product_12345",
  "embedding": [0.1, 0.2, ...],  # í–¥í›„ ë²¡í„° ê²€ìƒ‰ìš©
  "metadata": {
    "colors": ["#000000", "#FFFFFF", "#1E3A8A"],
    "pattern": "solid",
    "style": "casual",
    "fit": "regular",
    "material_guess": "cotton",
    "key_features": ["ì‹¬í”Œí•œ ë””ìì¸", "ë°ì¼ë¦¬ ì°©ìš©"],
    "analyzed_at": "2024-12-12T10:30:00Z"
  },
  "document": "ê²€ì€ìƒ‰ ë¬´ì§€ í‹°ì…”ì¸ , ë ˆê·¤ëŸ¬í•, ë©´ ì†Œì¬"
}

# 2. user_style_vectors - ìœ ì € ìŠ¤íƒ€ì¼ í”„ë¡œíŒŒì¼
{
  "id": "user_67890",
  "embedding": [0.5, 0.3, ...],  # í€´ì¦ˆ ë‹µë³€ ë²¡í„°í™”
  "metadata": {
    "dominant_style": "casual",
    "style_scores": {"casual": 0.8, "formal": 0.2, ...},
    "color_palette": ["#000000", "#FFFFFF", "#3B82F6"],
    "budget_tier": "mid",
    "body_type": "regular",
    "last_updated": "2024-12-12T09:00:00Z"
  },
  "document": "ìºì£¼ì–¼ ì„ í˜¸, ë¸”ë™/í™”ì´íŠ¸/ë¸”ë£¨ ê³„ì—´, ì¤‘ê°€ ë¸Œëœë“œ"
}

# 3. user_feedback - í”¼ë“œë°± ë°ì´í„°
{
  "id": "feedback_001",
  "metadata": {
    "user_id": "user_67890",
    "coord_set_id": "coord_abc",
    "action": "liked",  # liked/disliked/purchased
    "timestamp": "2024-12-12T14:20:00Z"
  },
  "document": "User liked coordination set"
}

# 4. good_coordinations - ì¢‹ì€ ì½”ë”” ì˜ˆì‹œ
{
  "id": "coord_abc",
  "embedding": [0.7, 0.2, ...],  # ì½”ë”” íŠ¹ì§• ë²¡í„°
  "metadata": {
    "product_ids": ["prod_1", "prod_2", "prod_3"],
    "style": "casual",
    "total_price": 350000,
    "purchase_count": 5,
    "like_count": 23,
    "created_at": "2024-12-10"
  },
  "document": "ìºì£¼ì–¼ ìŠ¤íƒ€ì¼, ë¸”ë™ í‹°ì…”ì¸  + ì²­ë°”ì§€ + í° ìŠ¤ë‹ˆì»¤ì¦ˆ"
}
```

**ì €ì¥ ì›ì¹™:**
- âŒ ê°œì¸ì •ë³´ ì €ì¥ ê¸ˆì§€ (ì´ë¦„, ì´ë©”ì¼, ì „í™”ë²ˆí˜¸)
- âœ… user_idë¡œë§Œ ì—°ê³„
- âœ… ë¶„ì„/í•™ìŠµì— í•„ìš”í•œ ë©”íƒ€ë°ì´í„°ë§Œ
- âœ… ì‚­ì œ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„ (íƒˆí‡´ ì‹œ)

---

## ğŸ’° ë¹„ìš© ìµœì í™”

### ì´ë¯¸ì§€ ë¶„ì„ ë¹„ìš©

**ëª¨ë¸ ì„ íƒ: Gemini 1.5 Flash**

| ìƒí™© | ë¶„ì„ íšŸìˆ˜ | ë¹„ìš© (Gemini) | ë¹„ìš© (GPT-4o) | ì ˆê° |
|------|----------|--------------|--------------|------|
| ì´ˆê¸° ìƒí’ˆ 1,000ê°œ | 1,000 | $0.1 | $3 | 97% |
| ì›” ì‹ ê·œ 300ê°œ | 300 | $0.03 | $0.9 | 97% |
| ì—°ê°„ (ì‹ ê·œë§Œ) | 3,600 | $0.36 | $10.8 | 97% |

### ìºì‹± ì „ëµ íš¨ê³¼

**ì‚¬ì „ ë¶„ì„ vs ì‹¤ì‹œê°„ ë¶„ì„**

- **ì‹¤ì‹œê°„ ë¶„ì„**: ìœ ì € 1,000ëª… Ã— ìƒí’ˆ 50ê°œ = 50,000ë²ˆ ë¶„ì„ = $5/ì›”
- **ì‚¬ì „ ë¶„ì„ + ìºì‹±**: ì‹ ê·œ ìƒí’ˆ 300ê°œë§Œ = $0.03/ì›”
- **ì ˆê°**: $4.97/ì›” (99.4% ì ˆê°)

### ì¶”ì²œ LLM ë¹„ìš©

**GPT-4o ê¸°ì¤€**

- ì¶”ì²œ 1ê±´: ~8,000 í† í° (ì…ë ¥ 4K + ì¶œë ¥ 4K)
- ë¹„ìš©: $0.02/ê±´
- ìœ ì € 1,000ëª…/ì›”: $20/ì›”

**ìµœì í™” ë°©ì•ˆ:**
- í”„ë¡¬í”„íŠ¸ ì••ì¶• (í† í° ìˆ˜ ì¤„ì´ê¸°)
- ìºì‹œëœ ë¶„ì„ ì •ë³´ë¡œ ìƒí’ˆ ì„¤ëª… ê°„ì†Œí™”
- í•„ìš” ì‹œ GPT-4o-mini ì‚¬ìš© (75% ì €ë ´)

### ì›”ê°„ ì˜ˆìƒ ë¹„ìš© (ìœ ì € 1,000ëª… ê¸°ì¤€)

| í•­ëª© | ë¹„ìš© |
|------|------|
| ì´ë¯¸ì§€ ë¶„ì„ (Gemini) | $0.03 |
| ì½”ë”” ì¶”ì²œ (GPT-4o) | $20 |
| ì„ë² ë”© ìƒì„± | $0.5 |
| í•©ì„± ì´ë¯¸ì§€ (ë¬´ë£Œ) | $0 |
| **ì´í•©** | **~$20.5/ì›”** |

---

## ğŸ” ë³´ì•ˆ ë° ê°œì¸ì •ë³´

### ê°œì¸ì •ë³´ ì²˜ë¦¬ ì›ì¹™

1. **ìµœì†Œ ìˆ˜ì§‘**
   - AI ì„œë²„ëŠ” user_idë§Œ ë³´ìœ 
   - ì´ë¦„/ì´ë©”ì¼/ì „í™”ë²ˆí˜¸ ë“± ë¯¸ì €ì¥

2. **ë°ì´í„° ë¶„ë¦¬**
   - ë°±ì—”ë“œ DB: ê°œì¸ì •ë³´
   - AI ChromaDB: ìµëª…í™”ëœ ë¶„ì„ ë°ì´í„°

3. **ì‚­ì œ ê¶Œë¦¬ ë³´ì¥**
   ```python
   # ìœ ì € íƒˆí‡´ ì‹œ AI ì„œë²„ ë°ì´í„° ì‚­ì œ
   DELETE /api/v1/users/{user_id}
   â†’ ChromaDB ëª¨ë“  ì»¬ë ‰ì…˜ì—ì„œ user_id ì‚­ì œ
   ```

4. **ì ‘ê·¼ ì œì–´**
   - ë°±ì—”ë“œ â†” AI ì„œë²„: API Key ì¸ì¦
   - ChromaDB: ë¡œì»¬ íŒŒì¼ ì‹œìŠ¤í…œ (ì™¸ë¶€ ì ‘ê·¼ ì°¨ë‹¨)

### API ë³´ì•ˆ

```python
# app/core/security.py

from fastapi import Header, HTTPException

async def verify_api_key(x_api_key: str = Header(...)):
    if x_api_key != settings.BACKEND_API_KEY:
        raise HTTPException(status_code=403, detail="Invalid API Key")
    return x_api_key

# ì‚¬ìš©
@app.post("/api/v1/analyze/batch", dependencies=[Depends(verify_api_key)])
async def batch_analyze(...):
    ...
```

---

## ğŸ“… êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 1: MVP (2ì£¼)

**ëª©í‘œ: ê¸°ë³¸ ì¶”ì²œ ì‹œìŠ¤í…œ ì‘ë™**

- [ ] FastAPI í”„ë¡œì íŠ¸ êµ¬ì¡° ì •ë¦¬
- [ ] ë°±ì—”ë“œ API ì—°ë™ (ìƒí’ˆ ì¡°íšŒ)
- [ ] ê¸°ë³¸ LLM ì¶”ì²œ (ì´ë¯¸ì§€ ë¶„ì„ ì—†ì´)
- [ ] ëˆ„ë¼ + í•©ì„± ì´ë¯¸ì§€ íŒŒì´í”„ë¼ì¸
- [ ] ChromaDB ê¸°ë³¸ ì„¤ì •

**ì‚°ì¶œë¬¼:**
- ì‘ë™í•˜ëŠ” ì¶”ì²œ API
- í•©ì„± ì´ë¯¸ì§€ ìƒì„± í™•ì¸
- ë°±ì—”ë“œ ì—°ë™ í…ŒìŠ¤íŠ¸

### Phase 2: ì´ë¯¸ì§€ ë¶„ì„ (2-3ì£¼)

**ëª©í‘œ: Gemini Flash í†µí•©**

- [ ] Gemini API ì„¤ì •
- [ ] ìƒí’ˆ ì´ë¯¸ì§€ ë¶„ì„ ì„œë¹„ìŠ¤
- [ ] ChromaDB ìºì‹± ë¡œì§
- [ ] ë°°ì¹˜ ë¶„ì„ ì—”ë“œí¬ì¸íŠ¸
- [ ] í¬ë¡¤ë§ ì—°ë™ í…ŒìŠ¤íŠ¸

**ì‚°ì¶œë¬¼:**
- ìë™ ì´ë¯¸ì§€ ë¶„ì„ ì‹œìŠ¤í…œ
- 100ê°œ ìƒí’ˆ ë°°ì¹˜ ì²˜ë¦¬ ê²€ì¦
- ë¶„ì„ ì •ë³´ ê¸°ë°˜ ì¶”ì²œ ê°œì„ 

### Phase 3: ìœ ì € ê°œì¸í™” (2ì£¼)

**ëª©í‘œ: í€´ì¦ˆ ê¸°ë°˜ ê°œì¸í™”**

- [ ] í€´ì¦ˆ ë¶„ì„ ì„œë¹„ìŠ¤
- [ ] ìœ ì € ìŠ¤íƒ€ì¼ ë²¡í„°í™”
- [ ] ê°œì¸í™”ëœ ì¶”ì²œ ë¡œì§
- [ ] í”¼ë“œë°± ì €ì¥ ì‹œìŠ¤í…œ

**ì‚°ì¶œë¬¼:**
- í€´ì¦ˆ ê¸°ë°˜ ì¶”ì²œ ì°¨ë³„í™”
- ìœ ì €ë³„ ë§ì¶¤ ì½”ë””
- í”¼ë“œë°± ë£¨í”„ êµ¬ì¶•

### Phase 4: ìµœì í™” ë° ê³ ê¸‰ ê¸°ëŠ¥ (ì§€ì†)

- [ ] ë²¡í„° ê²€ìƒ‰ í™œìš©
- [ ] ìœ ëª…ì¸ ìŠ¤íƒ€ì¼ ë¶„ì„
- [ ] ì„±ëŠ¥ ìµœì í™”
- [ ] ëª¨ë‹ˆí„°ë§/ë¡œê¹…

---

## ğŸ“ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# .env

# OpenAI
OPENAI_API_KEY=sk-...

# Google Gemini
GOOGLE_API_KEY=...

# ë°±ì—”ë“œ ì—°ë™
BACKEND_API_URL=http://localhost:8080
BACKEND_API_KEY=your-secret-key

# ChromaDB
VECTOR_DB_PATH=./data/vector_db

# ê¸°íƒ€
MAX_RECOMMENDATIONS=3
IMAGE_OUTPUT_DIR=./outputs/composites
```

---

## ğŸ”§ ê°œë°œ í™˜ê²½ ì„¤ì •

```bash
# 1. Python ê°€ìƒí™˜ê²½
python -m venv venv
source venv/bin/activate

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# 3. í™˜ê²½ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ ìˆ˜ì •

# 4. ì„œë²„ ì‹¤í–‰
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# 5. API ë¬¸ì„œ í™•ì¸
# http://localhost:8000/api/v1/docs
```

---

## ğŸ“š ì°¸ê³  ìë£Œ

### API ë¬¸ì„œ

- OpenAI: https://platform.openai.com/docs
- Google Gemini: https://ai.google.dev/docs
- ChromaDB: https://docs.trychroma.com

### ë°±ì—”ë“œ ì—°ë™

- ë°±ì—”ë“œ ë¦¬í¬ì§€í† ë¦¬: https://github.com/cryschan/ipzy-backend
- API ëª…ì„¸: (Swagger URL ì¶”ê°€ ì˜ˆì •)

---

## â“ ë¯¸ì • ì‚¬í•­ (í™•ì¸ í•„ìš”)

ì•„ë˜ ë‚´ìš©ì€ êµ¬í˜„ ì „ ê²°ì •ì´ í•„ìš”í•©ë‹ˆë‹¤:

### 1. ë°±ì—”ë“œ ì—°ë™ ë°©ì‹
- [ ] **ì˜µì…˜ A**: Webhook (ë°±ì—”ë“œ â†’ AI ì„œë²„ í‘¸ì‹œ)
- [ ] **ì˜µì…˜ B**: Polling (AI ì„œë²„ê°€ ì£¼ê¸°ì ìœ¼ë¡œ í™•ì¸)
- [ ] **ì˜µì…˜ C**: REST API (í•„ìš”í•  ë•Œë§Œ ìš”ì²­)

### 2. ë°°í¬ í™˜ê²½
- [ ] **ì˜µì…˜ A**: Docker Compose (ë¡œì»¬/ê°œë°œ)
- [ ] **ì˜µì…˜ B**: AWS/GCP (í”„ë¡œë•ì…˜)
- [ ] **ì˜µì…˜ C**: ì•„ì§ ë¯¸ì •

### 3. LLM ëª¨ë¸ ìµœì¢… ì„ íƒ

**ğŸ’° ì €ë¹„ìš© í…ŒìŠ¤íŠ¸ìš© ì¶”ì²œ:**

| ëª¨ë¸ | ì¶”ì²œ 1ê±´ ë¹„ìš© | í’ˆì§ˆ | ì†ë„ | ì„ íƒ |
|------|--------------|------|------|------|
| **Gemini 1.5 Flash** | $0.0015 | â­â­â­â­ | ë§¤ìš° ë¹ ë¦„ | âœ… **ê¸°ë³¸** |
| Gemini 1.5 Pro | $0.025 | â­â­â­â­â­ | ë³´í†µ | ê³ í’ˆì§ˆ í•„ìš” ì‹œ |
| GPT-4o-mini | $0.003 | â­â­â­â­ | ë¹ ë¦„ | ëŒ€ì•ˆ |
| GPT-4o | $0.050 | â­â­â­â­â­ | ë³´í†µ | í”„ë¡œë•ì…˜ |
| Claude 3.5 Haiku | $0.019 | â­â­â­â­ | ë§¤ìš° ë¹ ë¦„ | ëŒ€ì•ˆ |
| Claude 3.5 Sonnet | $0.072 | â­â­â­â­â­ | ë³´í†µ | ìµœê³  í’ˆì§ˆ |

**ê²°ì •: Gemini 1.5 Flash (í…ŒìŠ¤íŠ¸), Gemini 1.5 Pro (í”„ë¡œë•ì…˜)**

### 4. ì´ˆê¸° ë°ì´í„° ì¤€ë¹„
- [ ] í¬ë¡¤ë§ëœ ìƒí’ˆ ëª‡ ê°œ? (100ê°œ? 1000ê°œ?)
- [ ] í…ŒìŠ¤íŠ¸ìš© í€´ì¦ˆ ë°ì´í„° í•„ìš”?

---

---

## ğŸ“Œ í˜„ì¬ ì§„í–‰ ìƒí™© ë° ì„¤ì • ê°€ì´ë“œ

### âœ… ì™„ë£Œëœ ì„¤ì •

#### 1. **í”„ë¡œì íŠ¸ êµ¬ì¡°**
- [x] FastAPI ê¸°ë³¸ êµ¬ì¡°
- [x] requirements.txt (Gemini, Claude SDK í¬í•¨)
- [x] ì•„í‚¤í…ì²˜ ë¬¸ì„œ ì™„ì„±

#### 2. **Docker í™˜ê²½**
- [x] Dockerfile ì‘ì„±
- [x] docker-compose.yml ì‘ì„±
- [x] .dockerignore ì‘ì„±
- [x] Docker ì„¤ì • ê°€ì´ë“œ (DOCKER_SETUP.md)

#### 3. **í™˜ê²½ ë³€ìˆ˜**
- [x] .env.example í…œí”Œë¦¿
- [x] .env íŒŒì¼ ìƒì„± (í…œí”Œë¦¿ ê¸°ë°˜)

#### 4. **ê¸°ìˆ  ìŠ¤íƒ ê²°ì •**
- [x] ì´ë¯¸ì§€ ë¶„ì„: **Gemini 1.5 Flash**
- [x] ì½”ë”” ì¶”ì²œ: **Gemini 1.5 Flash** (í…ŒìŠ¤íŠ¸ìš©)
- [x] ë²¡í„° DB: **ChromaDB**
- [x] ë°°ê²½ ì œê±°: **rembg**
- [x] í•©ì„± ë°©ì‹: **ë ˆì´ì–´ í•©ì„±**
- [x] ì—°ë™ ë°©ì‹: **Webhook**
- [x] í€´ì¦ˆ ì²˜ë¦¬: **ê°„ë‹¨ ë§¤í•‘**

---

### â³ ì„¤ì • í•„ìš” (ì‹œì‘ ì „ í•„ìˆ˜)

#### 1. **API í‚¤ ë°œê¸‰ ë° ì„¤ì •**

**A. Google Gemini API í‚¤** â­ **í•„ìˆ˜**
```bash
# 1. ë°œê¸‰ ë°©ë²•
https://aistudio.google.com/app/apikey

# 2. .env íŒŒì¼ì— ì…ë ¥
GOOGLE_API_KEY=ë°œê¸‰ë°›ì€í‚¤
```

**B. Backend API í‚¤ ìƒì„±** â­ **í•„ìˆ˜**
```bash
# 1. í‚¤ ìƒì„±
openssl rand -base64 32

# 2. ë°±ì—”ë“œ .envì— ì¶”ê°€
AI_SERVER_API_KEY=ìƒì„±ëœí‚¤

# 3. AI ì„œë²„ .envì— ì¶”ê°€ (ë™ì¼í•œ ê°’!)
BACKEND_API_KEY=ìƒì„±ëœí‚¤
```

**C. OpenAI API í‚¤** (ì„ íƒ)
```bash
# GPT ëª¨ë¸ í…ŒìŠ¤íŠ¸ ì‹œ í•„ìš”
# https://platform.openai.com/api-keys

OPENAI_API_KEY=sk-...
```

#### 2. **Docker ë„¤íŠ¸ì›Œí¬ ìƒì„±**

```bash
# ipzy-network ìƒì„± (ë°±ì—”ë“œì™€ ê³µìœ )
docker network create ipzy-network

# í™•ì¸
docker network ls | grep ipzy-network
```

#### 3. **Python íŒ¨í‚¤ì§€ ì„¤ì¹˜** (ë¡œì»¬ ê°œë°œ ì‹œ)

```bash
# ê°€ìƒí™˜ê²½ í™œì„±í™”
source venv/bin/activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

---

### ğŸš§ êµ¬í˜„ ëŒ€ê¸° ì¤‘

#### Phase 1: í•µì‹¬ ì„œë¹„ìŠ¤ (ì˜ˆìƒ 4ì‹œê°„)
- [ ] ë°±ì—”ë“œ API í´ë¼ì´ì–¸íŠ¸ (20ë¶„)
- [ ] Gemini ì´ë¯¸ì§€ ë¶„ì„ ì„œë¹„ìŠ¤ (1ì‹œê°„)
- [ ] í€´ì¦ˆ ë¶„ì„ ì„œë¹„ìŠ¤ (20ë¶„)
- [ ] LLM ì¶”ì²œ ì—”ì§„ (1.5ì‹œê°„)
- [ ] Webhook ì—”ë“œí¬ì¸íŠ¸ (30ë¶„)
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ (30ë¶„)

#### Phase 2: ê³ ë„í™” (í–¥í›„)
- [ ] ë²¡í„° ê²€ìƒ‰ í™œìš©
- [ ] í”¼ë“œë°± í•™ìŠµ ì‹œìŠ¤í…œ
- [ ] ìœ ëª…ì¸ ìŠ¤íƒ€ì¼ ë¶„ì„
- [ ] ì„±ëŠ¥ ìµœì í™”

---

### ğŸ“‹ ì‹œì‘ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

**í•„ìˆ˜ í•­ëª©:**
- [ ] Google Gemini API í‚¤ ë°œê¸‰ ì™„ë£Œ
- [ ] Backend API í‚¤ ìƒì„± ë° ì–‘ìª½ ì„¤ì •
- [ ] Docker ë„¤íŠ¸ì›Œí¬ ìƒì„± (`ipzy-network`)
- [ ] ë°±ì—”ë“œ ì„œë²„ ì‹¤í–‰ ì¤‘

**ì„ íƒ í•­ëª©:**
- [ ] OpenAI API í‚¤ ë°œê¸‰ (GPT ëª¨ë¸ ì‚¬ìš© ì‹œ)
- [ ] Claude API í‚¤ ë°œê¸‰ (Claude ëª¨ë¸ ì‚¬ìš© ì‹œ)

---

### ğŸš€ ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

#### 1ë‹¨ê³„: API í‚¤ ì„¤ì •

```bash
# .env íŒŒì¼ ì—´ê¸°
cd /Users/a/IdeaProjects/FinalProject/ipzy-ai
nano .env  # ë˜ëŠ” VSCodeë¡œ ì—´ê¸°

# ë‹¤ìŒ í•­ëª© ìˆ˜ì •:
# - GOOGLE_API_KEY=ì‹¤ì œí‚¤
# - BACKEND_API_KEY=ì‹¤ì œí‚¤
```

#### 2ë‹¨ê³„: Docker ë„¤íŠ¸ì›Œí¬ ë° ë¹Œë“œ

```bash
# ë„¤íŠ¸ì›Œí¬ ìƒì„±
docker network create ipzy-network

# ë¹Œë“œ ë° ì‹¤í–‰
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f ipzy-ai
```

#### 3ë‹¨ê³„: ì„œë¹„ìŠ¤ í™•ì¸

```bash
# í—¬ìŠ¤ ì²´í¬
curl http://localhost:8000/health

# API ë¬¸ì„œ
open http://localhost:8000/api/v1/docs
```

---

### ğŸ’¡ ë‹¤ìŒ ì‘ì—…

1. âœ… ë¬¸ì„œ ì‘ì„± ì™„ë£Œ
2. â³ API í‚¤ ì„¤ì • ëŒ€ê¸° ì¤‘
3. â³ í•µì‹¬ ì„œë¹„ìŠ¤ êµ¬í˜„ ëŒ€ê¸° ì¤‘

**API í‚¤ ì„¤ì •ì´ ì™„ë£Œë˜ë©´ ë°”ë¡œ êµ¬í˜„ ì‹œì‘ ê°€ëŠ¥í•©ë‹ˆë‹¤!**

---

**ë¬¸ì„œ ë²„ì „**: 1.1
**ìµœì¢… ìˆ˜ì •**: 2024-12-12
**ì‘ì„±ì**: AI ì„œë²„ ê°œë°œíŒ€
